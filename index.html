<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ankith's Premium Weather Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* --- Global Styles --- */
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #f0f0f5, #d9d9e6);
      color: #1a1a1a;
      overflow: hidden;
      transition: background 1s ease;
    }

    /* --- Dashboard Card --- */
    .dashboard {
      position: relative;
      z-index: 1;
      background: rgba(255,255,255,0.75);
      border-radius: 30px;
      padding: 50px 40px;
      text-align: center;
      box-shadow: 0 20px 50px rgba(0,0,0,0.1);
      max-width: 450px;
      width: 90%;
      backdrop-filter: blur(15px);
      transition: all 0.3s ease;
    }
    .dashboard:hover {
      transform: translateY(-5px);
      box-shadow: 0 25px 60px rgba(0,0,0,0.15);
    }

    /* --- Intro Text --- */
    .intro {
      font-size: 1.6rem;
      font-weight: 600;
      margin-bottom: 25px;
      min-height: 50px;
      color: #111;
    }

    /* --- Weather Icon --- */
    #weather-icon {
      width: 120px;
      height: 120px;
      margin: 15px 0;
    }

    /* --- Weather Info --- */
    #weather h2 {
      margin: 10px 0;
      font-weight: 700;
      font-size: 1.4rem;
    }
    #weather p {
      margin: 5px 0;
      font-size: 1rem;
      font-weight: 500;
    }

    /* --- Social Links --- */
    .socials {
      margin-top: 25px;
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    .socials a {
      text-decoration: none;
      color: #555;
      font-weight: 600;
      transition: color 0.3s, transform 0.3s;
    }
    .socials a:hover {
      color: #000;
      transform: scale(1.2);
    }

    /* --- Loader --- */
    .loader {
      border: 4px solid #ccc;
      border-top: 4px solid #555;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      margin: 20px auto;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* --- Weather Effects --- */
    .raindrop, .cloud {
      position: absolute;
      opacity: 0.25;
    }
    .raindrop {
      width: 2px;
      height: 10px;
      background: #555;
      animation: fall linear infinite;
    }
    @keyframes fall {
      to { transform: translateY(500px); opacity: 0; }
    }
    .cloud {
      width: 60px;
      height: 40px;
      background: #ccc;
      border-radius: 50%;
      animation: float linear infinite;
    }
    @keyframes float {
      0% { transform: translateX(-100px); }
      100% { transform: translateX(500px); }
    }
  </style>
</head>
<body>
  <div class="dashboard" id="dashboard">
    <div class="intro" id="typing"></div>
    <div id="weather">
      <div class="loader"></div>
    </div>
    <div class="socials">
      <a href="https://www.linkedin.com/in/ankithva" target="_blank">LinkedIn</a>
      <a href="https://github.com/ankithva" target="_blank">GitHub</a>
      <a href="https://twitter.com/ankithva" target="_blank">Twitter</a>
    </div>
  </div>

  <script>
    const apiKey = "4b17183372e32d80f601432c06223f7f";

    // --- Typing Effect ---
    const introText = "Hi, I'm Ankith, a weather enthusiast from India üå§Ô∏è";
    let i = 0;
    function typeWriter() {
      if(i < introText.length) {
        document.getElementById("typing").innerHTML += introText.charAt(i);
        i++;
        setTimeout(typeWriter, 80);
      }
    }
    typeWriter();

    // --- Weather Display ---
    function displayWeather(data) {
      const icon = `http://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;
      const condition = data.weather[0].main.toLowerCase();
      document.getElementById("weather").innerHTML =
        `<h2>${data.name}, ${data.sys.country}</h2>
         <img id="weather-icon" src="${icon}" alt="Weather icon"/>
         <p>${data.weather[0].main}</p>
         <p>üå°Ô∏è Temp: ${data.main.temp}¬∞C</p>
         <p>üíß Humidity: ${data.main.humidity}%</p>
         <p>üå¨Ô∏è Wind: ${data.wind.speed} m/s</p>`;

      applyWeatherEffects(condition);
    }

    function fetchFallback() {
      fetch(`https://api.openweathermap.org/data/2.5/weather?q=New Delhi&units=metric&appid=${apiKey}`)
        .then(res => res.json())
        .then(displayWeather)
        .catch(() => {
          document.getElementById("weather").innerHTML = "<p>Unable to fetch weather.</p>";
        });
    }

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        function(position) {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;
          fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`)
            .then(res => res.json())
            .then(displayWeather)
            .catch(fetchFallback);
        },
        fetchFallback
      );
    } else {
      fetchFallback();
    }

    // --- Weather Effects ---
    function applyWeatherEffects(condition) {
      const dashboard = document.getElementById('dashboard');
      document.querySelectorAll('.raindrop, .cloud').forEach(e => e.remove());

      // Reset glow
      dashboard.style.boxShadow = '0 20px 50px rgba(0,0,0,0.1)';
      document.body.style.background = 'linear-gradient(135deg, #f0f0f5, #d9d9e6)';

      if(condition.includes('rain')) {
        // Raindrops
        for(let i=0;i<30;i++){
          const drop = document.createElement('div');
          drop.className='raindrop';
          drop.style.left=Math.random()*100+'%';
          drop.style.animationDuration=1+Math.random()*1+'s';
          dashboard.appendChild(drop);
        }
      } else if(condition.includes('cloud')) {
        // Clouds
        for(let i=0;i<5;i++){
          const cloud = document.createElement('div');
          cloud.className='cloud';
          cloud.style.top=Math.random()*30+'px';
          cloud.style.left=-100-i*100+'px';
          cloud.style.animationDuration=5+Math.random()*5+'s';
          dashboard.appendChild(cloud);
        }
      }
    }
  </script>
</body>
</html>
